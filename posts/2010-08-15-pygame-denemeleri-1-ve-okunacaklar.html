<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>osa1 - Pygame denemeleri 1 ve okunacaklar</title>
        <link rel="icon" href="data:,">
        <link rel="stylesheet" type="text/css" href="../css/default.css" />
        <link rel="stylesheet" type="text/css" href="../css/syntax.css" />

        <link rel="alternate" type="application/rss+xml" title="osa1.net blog" href="../rss.xml" />
    </head>
    <body>
        <div id="column">
            <div id="header-inner">
                <span id="blog-title"><a href="../">osa1</a></span>
                <span class="menu-item"><a href="https://github.com/osa1">github</a></span>
                <span class="menu-item"><a href="https://gitlab.haskell.org/osa1">gitlab</a></span>
                <span class="menu-item"><a href="../rss.xml">rss</a></span>
            </div>
            <div class="inner">
                <h1 id="post-title">Pygame denemeleri 1 ve okunacaklar</h1>

<p><strong>August 15, 2010</strong> - Tagged as: <a href="../tags/python.html">python</a>, <a href="../tags/pygame.html">pygame</a>, <a href="../tags/django.html">django</a>.</p>

<p>Python ile Django’dan sonra pygame’e el attım biraz. Daha yeni başladım ve henüz pygame’in özelliklerinin çok azından yararlanarak birşeyler yapabiliyorum. Aşağıdaki kod ilk yazdığım basit bir çarpışma şeyi(neyi ben de bilmiyorum). İstediğiniz büyüklükte ekrana istediğiniz kadar top ekleyip onları rastgele hızlarda bir yerlere yolluyor ve çarpıştırıyor.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode python"><code class="sourceCode python"><span class="im">import</span> pygame, random, math
screenx, screeny <span class="op">=</span> <span class="dv">500</span>, <span class="dv">500</span> <span class="co">#ekran buyuklugu</span>
<span class="kw">class</span> Ball:
    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, surface):
        <span class="va">self</span>.surface <span class="op">=</span> surface
        <span class="va">self</span>.radius <span class="op">=</span> <span class="dv">10</span>
        <span class="va">self</span>.color <span class="op">=</span> (<span class="dv">255</span>, <span class="dv">255</span>, <span class="dv">255</span>)
        <span class="va">self</span>.x <span class="op">=</span> random.randint(<span class="dv">0</span><span class="op">+</span><span class="va">self</span>.radius, screenx<span class="op">-</span><span class="va">self</span>.radius)
        <span class="va">self</span>.y <span class="op">=</span> random.randint(<span class="dv">0</span><span class="op">+</span><span class="va">self</span>.radius, screeny<span class="op">-</span><span class="va">self</span>.radius)
        <span class="va">self</span>.vx <span class="op">=</span> random.randint(<span class="dv">1</span>, <span class="dv">10</span>)
        <span class="va">self</span>.vy <span class="op">=</span> random.randint(<span class="dv">1</span>, <span class="dv">10</span>)
        
    <span class="kw">def</span> move(<span class="va">self</span>, time_passed):
        <span class="cf">if</span> <span class="va">self</span>.x <span class="op">&gt;=</span> screenx<span class="op">-</span><span class="va">self</span>.radius <span class="kw">or</span> <span class="va">self</span>.x <span class="op">&lt;=</span> <span class="va">self</span>.radius:
            <span class="va">self</span>.vx <span class="op">*=</span> <span class="dv">-1</span>
        <span class="cf">if</span> <span class="va">self</span>.y <span class="op">&gt;=</span> screeny<span class="op">-</span><span class="va">self</span>.radius <span class="kw">or</span> <span class="va">self</span>.y <span class="op">&lt;=</span> <span class="va">self</span>.radius:
            <span class="va">self</span>.vy <span class="op">*=</span> <span class="dv">-1</span>
        <span class="va">self</span>.x <span class="op">+=</span> <span class="va">self</span>.vx <span class="op">*</span> time_passed
        <span class="va">self</span>.y <span class="op">+=</span> <span class="va">self</span>.vy <span class="op">*</span> time_passed
        
    <span class="kw">def</span> draw(<span class="va">self</span>):
        pygame.draw.circle(<span class="va">self</span>.surface, <span class="va">self</span>.color, (<span class="va">self</span>.x, <span class="va">self</span>.y),
                           <span class="va">self</span>.radius)
pygame.init()
clock <span class="op">=</span> pygame.time.Clock()
screen <span class="op">=</span> pygame.display.set_mode((screenx, screeny), <span class="dv">0</span>, <span class="dv">32</span>)
running <span class="op">=</span> <span class="va">True</span>
balls <span class="op">=</span> []
<span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1</span>, <span class="dv">21</span>): <span class="co">#top sayisi</span>
    balls.append(Ball(screen))
<span class="kw">def</span> CollisionDetect(b1):
    <span class="cf">for</span> b2 <span class="kw">in</span> balls:
        <span class="cf">if</span> b1 <span class="kw">is</span> <span class="kw">not</span> b2:
            <span class="bu">range</span> <span class="op">=</span> math.sqrt((b1.x <span class="op">-</span> b2.x)<span class="op">**</span><span class="dv">2</span> <span class="op">+</span> (b1.y <span class="op">-</span> b2.y)<span class="op">**</span><span class="dv">2</span>)
            <span class="cf">if</span> <span class="bu">range</span> <span class="op">&lt;</span> (b1.radius <span class="op">+</span> b2.radius):
                b1.vx, b2.vx <span class="op">=</span> b2.vx, b1.vx
                b1.vy, b2.vy <span class="op">=</span> b2.vy, b1.vy
                <span class="co">#b1.move(); b2.move()</span>
<span class="cf">while</span> running:
    <span class="cf">for</span> event <span class="kw">in</span> pygame.event.get():
        <span class="co">#print event</span>
        <span class="cf">if</span> event.<span class="bu">type</span> <span class="op">==</span> pygame.QUIT:
            running <span class="op">=</span> <span class="va">False</span>
    
    time_passed <span class="op">=</span> clock.tick(<span class="dv">50</span>)
    screen.fill((<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>))
    <span class="cf">for</span> b <span class="kw">in</span> balls:
        b.draw()
        CollisionDetect(b)
        b.move(time_passed)
    
    pygame.display.flip()</code></pre></div>
<p>Onun dışında kendime bir okunacaklar listesi hazırladım, ilk fırsatta okuyacaklarım:</p>
<ul>
<li><a href="http://www.pygame.org/docs/tut/MoveIt.html" class="uri">http://www.pygame.org/docs/tut/MoveIt.html</a></li>
<li><a href="http://eli.thegreenplace.net/2008/12/13/writing-a-game-in-python-with-pygame-part-i/" class="uri">http://eli.thegreenplace.net/2008/12/13/writing-a-game-in-python-with-pygame-part-i/</a></li>
<li><a href="http://ezide.com/games/writing-games.html" class="uri">http://ezide.com/games/writing-games.html</a></li>
<li><a href="http://stackoverflow.com/questions/739654/understanding-python-decorators">StackOverflow - Understanding Python Decorators</a></li>
<li><a href="http://stackoverflow.com/questions/231767/the-python-yield-keyword-explained">StackOverflow - Python yield Keyword</a></li>
</ul>

<!--

<hr />
<div id="disqus_thread"></div>
<script type="text/javascript">
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'https://osa1.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>

-->

            </div>
        </div>
    </body>
</html>
