<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>osa1 - Vim için Clojure çalışma ortamı(vimclojure + SLIMV)</title>
        <link rel="icon" href="data:,">
        <link rel="stylesheet" type="text/css" href="../css/default.css" />
        <link rel="stylesheet" type="text/css" href="../css/syntax.css" />

        <link rel="alternate" type="application/rss+xml" title="osa1.net blog" href="../rss.xml" />
    </head>
    <body>
        <div id="column">
            <div id="header-inner">
    <span id="blog-title"><a href="../">osa1</a></span>
    <span class="menu-item"><a href="https://github.com/osa1">github</a></span>
    <span class="menu-item"><a href="https://gitlab.haskell.org/osa1">gitlab</a></span>
    <span class="menu-item"><a href="../cv.html">cv</a></span>
    <span class="menu-item"><a href="../rss.xml">rss</a></span>
</div>

            <div class="inner">
                <h1 id="post-title">Vim için Clojure çalışma ortamı(vimclojure + SLIMV)</h1>

<p><strong>July  1, 2011</strong> - Tagged as: <a title="All pages tagged 'vim'." href="../tags/vim.html">vim</a>, <a title="All pages tagged 'lisp'." href="../tags/lisp.html">lisp</a>, <a title="All pages tagged 'tr'." href="../tags/tr.html">tr</a>.</p>

<p>Islah olmaz bir Vim kullanıcısı olduğumdan(yine de Vim ile Java yazmayı denemiyorum, heh), her işimi Vim ile görmeye çalışıyorum. Şu ana kadar kullandığım diller arasında, Java’yı saymazsak, beni en çok uğraştıran Clojure oldu.</p>
<p>Genel olarak 2 yol var. Birincisi, Emacs’in SLIME klonu olan <a href="http://www.vim.org/scripts/script.php?script_id=2531">SLIMV</a>. Common Lisp, Scheme ve Clojure için kullanılabiliyor. Fakat Clojure desteğinde bazı sorunlar var. İkincisi, <a href="https://bitbucket.org/kotarak/vimclojure">vimclojure</a>. Clojure düzenleme yetenekler SLIMV’e göre çok daha iyi, ama REPL kısmı biraz sıkıntılı. Lein REPL kullanamıyorsunuz, Nailgun kullanıyor. Yavaş çalışıyor. Göçtüğünde bir daha başlatması, bir işlemde takıldığında durdurması vb. şeyler zor.</p>
<p>Benim izlediğim yol, SLIMV üzerine vimclojure syntax renklendirme ve indentation scriptlerini kullanmak oldu. Normalde SLIMV’in Clojure indentation kısmında birkaç problemi var. Clojure keyword’lerini de tanıymıyor.</p>
<p>Bunu yapmanın en kolay yolu, benim vim ayar dosyalarımı çekip(<a href="https://github.com/osa1/rcbackup">github</a>) veya ayar dosyalarımdan <code>/bundles/slimv/</code>i çekip gerekli yerlere atmak. Onun dışında, bir hata durumunda bana sövmeyin diye ne yaptığımı da açıklayayım. Standart SLIMV(0.8.4 kullandım, 0.8.5 REPL ekranı daha yavaş çalıştı nedense, yazarı olmaması gerektiğini söyledi ama, bir daha kurcalayacağım bir ara) altına, autoload klasörü oluşturup vimclojure autoload scriptini kopyaladım. Bu bana vimclojure fonksiyonlarını sağladı(syntax renklendirme ve indentation için gerekecek). Daha sonra <code>slimv/indent/clojure.vim</code> ve <code>slimv/syntax/clojure/slimv-syntax-clojure.vim</code> dosyalarının içeriğini vimclojure scriptlerininkiyle değiştirdim. Bu kadar.</p>
<p><a href="../images/slimv1.png"><img src="../images/slimv1k.png" /></a></p>
<p>SLIMV’in eksikleri var. Geliştiricisiyle stackoverflow’da karşılaştım ve şu anda birkaç eksikliği düzeltmek için uğraşıyor. Birincisi, <code>lein repl</code> kullanmasına rağmen, <code>javadoc</code> <code>source</code> gibi bazı fonksiyonları <code>(use '[clojure.repl :only (source apropos dir pst doc find-doc)])</code> ile kullanmanız gerekiyor. Normalde terminalden <code>lein repl</code> ile çalıştırırsanız bunları direkt kullanabiliyorsunuz ama. İkincisi, program bir noktada takılırsa(uzun bir işlem vs) durdurmanın bir yolu yok(ya da ben bulamadım).</p>
<p>Aslında SLIMV varken sıfırdan bir Clojure scripti yazmak çok saçma geldi bana. Vimclojure yazılacağına SLIMV Clojure desteği üzerinde uğraşılsaymış çok daha güzel birşey olacakmış. Şimdi ben kendim ikisinin güzel özelliklerini kullanmaya çalışıyorum mesela.</p>

<hr />

<div id="disqus_thread">
    <a href="#" onclick="loadDisqus(); return false;">
        (Show comments)
    </a>
</div>

<script>
    function loadDisqus() {
        var dsq = document.createElement('script');
        dsq.type = 'text/javascript';
        dsq.async = true;
        dsq.src = 'https://osa1.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] ||
            document.getElementsByTagName('body')[0]).appendChild(dsq);
    };
</script>

            </div>
        </div>
    </body>
</html>
